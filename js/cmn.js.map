{"version":3,"sources":["webpack:///webpack/bootstrap 60e0d5d2b419dcd1724d?3bf2","webpack:///./js/cmn.js","webpack:///./js/_modules/_pixionly.js"],"names":["window","pixi_test","isDebug","$","main","Main","e","myRound","Math","round","myCeil","ceil","myRandom","random","mySin","sin","myCos","cos","mySqrt","sqrt","myPI","PI","myPow","a","b","c","i","myPow2","myAbs","myFloor","myHypot","myTrace","ary","console","log","toRadian","getDecimalLength","num","splittedNum","split","len","length","Container","PIXI","autoDetectRenderer","CanvasRenderer","loader","resources","Sprite","STAGE_WIDTH","STAGE_HEIGHT","containers","MAX_CONTAINERS","layerIDs","isEnd","isKeyboard","stage","rendererP","confirm","antialias","transparent","backgroundColor","resolution","document","body","appendChild","view","setAttribute","interactive","snow0b64","snow1b64","snow2b64","textureSnow0","textureSnow1","textureSnow2","state","bullets","patterns","frameCnt","clickCnt","remainingTime","overallRemainingTime","overallEndFrame","blurFilter","filters","BlurFilter","blurFilter2","bloomFilter","BloomFilter","textObj","stats","on","loadObjects","setup","DisplayObjectContainer","position","x","y","addChild","Texture","fromImage","push","scoreNum","Text","font","fill","align","anchor","scoreRatio","Object","keys","forEach","key","ui","playState","blur","Stats","domElement","style","top","left","zIndex","gameLoop","requestAnimationFrame","render","callAddBullet","moveBullets","filterBullets","refreshText","update","setText","currentPtn","currentOffsettedFrame","offsettedEndFrame","addBullet","ptn","bullet","ratio","imgID","layer","width","height","alpha","defX","defY","lastX","lastY","eraseX","eraseY","rotation","nVec","spd","erase","blendMode","BLEND_MODES","ADD","j","removeChild","removeBullets","splice","tmpBullets","Array","idx"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AChCA;;;;;;AANAA,QAAOC,SAAP,GAAmB;AACjBC,YAAS;AACT;AAFiB,EAAnB;;AAQAC,GAAE,YAAW;AACX;;AACA,OAAIC,OAAO,wBAAX;AACD,EAHD,E;;;;;;;;;;;;;;;;;ACRA;;;;AAIA;;;;KAIqBC,I;AACnB;;;AAGA,mBAAc;AAAA;;AACZ,UAAKD,IAAL;AACD;;AAED;;;;;;;0BAGKE,C,EAAG;AACN;AACA;;AACA,WAAIC,UAAUC,KAAKC,KAAnB;AAAA,WACIC,SAASF,KAAKG,IADlB;AAAA,WAEIC,WAAWJ,KAAKK,MAFpB;AAAA,WAGIC,QAAQN,KAAKO,GAHjB;AAAA,WAIIC,QAAQR,KAAKS,GAJjB;AAAA,WAKIC,SAASV,KAAKW,IALlB;AAAA,WAMIC,OAAOZ,KAAKa,EANhB;AAOA,WAAIC,QAAQ,SAARA,KAAQ,CAASC,CAAT,EAAYC,CAAZ,EAAe;AACzB,aAAIC,IAAIF,CAAR;AACA,cAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAIF,CAApB,EAAuBE,GAAvB,EAA4B;AAC1BD,gBAAKF,CAAL;AACD;AACD,gBAAOE,CAAP;AACD,QAND;AAOA,WAAIE,SAAS,SAATA,MAAS,CAASJ,CAAT,EAAY;AACvB,gBAAOA,IAAIA,CAAX;AACD,QAFD;AAGA,WAAIK,QAAQ,SAARA,KAAQ,CAASL,CAAT,EAAY;AACtB,gBAAOA,IAAI,CAAJ,GAAQ,CAACA,CAAT,GAAaA,CAApB;AACD,QAFD;AAGA,WAAIM,UAAU,SAAVA,OAAU,CAASN,CAAT,EAAY;AACxB,gBAAOA,IAAI,CAAX;AACD,QAFD;AAGA,WAAIO,UAAU,SAAVA,OAAU,CAASP,CAAT,EAAYC,CAAZ,EAAe;AAC3B,gBAAON,OAAOK,IAAIA,CAAJ,GAAQC,IAAIA,CAAnB,CAAP;AACD,QAFD;AAGA,WAAIO,UAAU,SAAVA,OAAU,CAASC,GAAT,EAAc;AAC1B,aAAIhC,OAAOC,SAAP,CAAiBC,OAArB,EAA8B;AAC5B+B,mBAAQC,GAAR,CAAYF,GAAZ;AACD;AACF,QAJD;AAKA,WAAIG,WAAW,SAAXA,QAAW,CAASZ,CAAT,EAAY;AACzB,gBAAOA,IAAIH,IAAJ,GAAW,GAAlB;AACD,QAFD;AAGA,WAAIgB,mBAAmB,SAAnBA,gBAAmB,CAASC,GAAT,EAAc;AACnC,aAAIC,cAAc,CAACD,MAAM,EAAP,EAAWE,KAAX,CAAiB,GAAjB,CAAlB;AAAA,aACIC,MAAM,CADV;AAEA,aAAIF,YAAY,CAAZ,CAAJ,EAAoB;AAClBE,iBAAMF,YAAY,CAAZ,EAAeG,MAArB;AACD;AACD,gBAAOD,GAAP;AACD,QAPD;;AASA;AACA,WAAIE,YAAYC,KAAKD,SAArB;AAAA,WACIE,qBAAqBD,KAAKC,kBAD9B;AAAA,WAEIC,iBAAiBF,KAAKE,cAF1B;AAAA,WAGIC,SAASH,KAAKG,MAHlB;AAAA,WAIIC,YAAYJ,KAAKG,MAAL,CAAYC,SAJ5B;AAAA,WAKIC,SAASL,KAAKK,MALlB;;AAOA,WAAMC,cAAc,GAApB;AACA,WAAMC,eAAe,GAArB;;AAEA,WAAIC,aAAa,EAAjB;AACA,WAAMC,iBAAiB,CAAvB;AACA,WAAIC,WAAW;AACb,mBAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADG;AAEb,eAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFO;AAGb,mBAAU,CAHG;AAIb,kBAAS,CAJI;AAKb,eAAM;AALO,QAAf;AAOA,WAAIC,QAAQ,KAAZ;AACA,WAAIC,aAAa,KAAjB;;AAEA;AACA;AACAxB,eAAQ,cAAR;AACA,WAAIyB,QAAQ,IAAId,SAAJ,EAAZ;AAAA,WACIe,SADJ;AAEA,WAAIC,QAAQ,mBAAR,CAAJ,EAAkC;AAChCD,qBAAY,IAAIb,kBAAJ,CAAuBK,WAAvB,EAAoCC,YAApC,EAAkD,EAAES,WAAW,IAAb,EAAmBC,aAAa,KAAhC,EAAuCC,iBAAiB,QAAxD,EAAkEC,YAAY,CAA9E,EAAlD,CAAZ;AACD,QAFD,MAEO;AACLL,qBAAY,IAAIZ,cAAJ,CAAmBI,WAAnB,EAAgCC,YAAhC,EAA8C,EAAES,WAAW,IAAb,EAAmBC,aAAa,KAAhC,EAAuCC,iBAAiB,QAAxD,EAAkEC,YAAY,CAA9E,EAA9C,CAAZ;AACD;AACDC,gBAASC,IAAT,CAAcC,WAAd,CAA0BR,UAAUS,IAApC,EAA0CC,YAA1C,CAAuD,OAAvD,EAAgE,QAAhE;AACAX,aAAMY,WAAN,GAAoB,CAACb,UAArB;;AAEA,WAAIc,WAAW,4oGAAf;AAAA,WACIC,WAAW,40IADf;AAAA,WAEIC,WAAW,otIAFf;;AAIA,WAAIC,YAAJ,EACIC,YADJ,EAEIC,YAFJ;;AAIA,WAAIC,KAAJ;AACA,WAAIC,UAAU,EAAd;AACA,WAAIC,WAAW,EAAf;;AAEA,WAAIC,WAAW,CAAf;;AAEA,WAAIC,WAAW,CAAf;;AAEA,WAAIC,gBAAgB,CAApB;AAAA,WACIC,uBAAuB,CAD3B;AAAA,WAEIC,eAFJ;;AAIA,WAAIC,aAAa,IAAIxC,KAAKyC,OAAL,CAAaC,UAAjB,EAAjB;AAAA,WACIC,cAAc,IAAI3C,KAAKyC,OAAL,CAAaC,UAAjB,EADlB;AAAA,WAEIE,cAAc,IAAI5C,KAAKyC,OAAL,CAAaI,WAAjB,EAFlB;;AAIA,WAAIC,UAAU,EAAd;AACA,WAAIC,KAAJ;;AAEAvF,SAAE,SAAF,EAAawF,EAAb,CAAgB,OAAhB,EAAyB,YAAY;AACnC,aAAIZ,aAAa,CAAb,IAAkB,CAACrB,QAAQ,mCAAR,CAAvB,EAAqE;AACnE,kBAAO,KAAP;AACD,UAFD,MAEO,IAAIqB,aAAa,EAAb,IAAmB,CAACrB,QAAQ,kDAAR,CAAxB,EAAqF;AAC1F,kBAAO,KAAP;AACD,UAFM,MAEA,IAAIqB,WAAW,EAAf,EAAmB;AACzBA;AACA;AACF,QARD;;AAWA,gBAASa,WAAT,GAAuB;AACrB;AACEC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACD;;AAEDD;;AAIA,gBAASC,KAAT,GAAiB;AACf9D,iBAAQ,OAAR;;AAEA,cAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAI0B,cAApB,EAAoC1B,GAApC,EAAyC;AACvCyB,sBAAWzB,CAAX,IAAgB,IAAIiB,KAAKmD,sBAAT,EAAhB;AACA3C,sBAAWzB,CAAX,EAAcqE,QAAd,CAAuBC,CAAvB,GAA2B,CAA3B;AACA7C,sBAAWzB,CAAX,EAAcqE,QAAd,CAAuBE,CAAvB,GAA2B,CAA3B;AACAzC,iBAAM0C,QAAN,CAAe/C,WAAWzB,CAAX,CAAf;AACD;;AAGD;AACA8C,wBAAe7B,KAAKwD,OAAL,CAAaC,SAAb,CAAuB/B,QAAvB,CAAf;AACAI,wBAAe9B,KAAKwD,OAAL,CAAaC,SAAb,CAAuB9B,QAAvB,CAAf;AACAI,wBAAe/B,KAAKwD,OAAL,CAAaC,SAAb,CAAuB7B,QAAvB,CAAf;;AAGA;AACAM,kBAAS,CAAT,IAAc,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAV,CAAd;AACAA,kBAAS,CAAT,IAAc,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,CAAd;AACA,cAAK,IAAInD,KAAI,CAAb,EAAgBA,KAAI,CAApB,EAAuBA,IAAvB,EAA4B;AAC1BmD,oBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,EAApC,EAAwC,IAAxC,EAA8Cf,EAA9C,CAAd;AACAmD,oBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,IAApC,EAA0C,EAA1C,EAA8Cf,KAAI,GAAlD,CAAd;AACD;AACD,cAAK,IAAIA,MAAI,CAAb,EAAgBA,MAAI,CAApB,EAAuBA,KAAvB,EAA4B;AAC1BmD,oBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,EAApC,EAAwC,IAAxC,EAA8Cf,GAA9C,CAAd;AACAmD,oBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,IAApC,EAA0C,EAA1C,EAA8Cf,MAAI,GAAlD,CAAd;AACD;AACDmD,kBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,EAApC,EAAwC,IAAxC,EAA8C,CAA9C,CAAd;AACAoC,kBAASwB,IAAT,CAAc,CAACxB,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,IAAmC,IAApC,EAA0C,EAA1C,EAA8C,IAAI,GAAlD,CAAd;;AAEAyC,2BAAkBL,SAASA,SAASpC,MAAT,GAAkB,CAA3B,EAA8B,CAA9B,CAAlB;;AAEA;AACAgD,iBAAQa,QAAR,GAAmB,IAAI3D,KAAK4D,IAAT,CAAc,GAAd,EAAmB,EAACC,MAAK,iBAAN,EAAyBC,MAAK,SAA9B,EAAyCC,OAAM,OAA/C,EAAnB,CAAnB;AACAjB,iBAAQa,QAAR,CAAiBP,QAAjB,CAA0BC,CAA1B,GAA8B,GAA9B;AACAP,iBAAQa,QAAR,CAAiBP,QAAjB,CAA0BE,CAA1B,GAA8B,EAA9B;AACAR,iBAAQa,QAAR,CAAiBK,MAAjB,CAAwBX,CAAxB,GAA4B,CAA5B;;AAEAP,iBAAQmB,UAAR,GAAqB,IAAIjE,KAAK4D,IAAT,CAAc,GAAd,EAAmB,EAAEC,MAAM,iBAAR,EAA2BC,MAAM,SAAjC,EAA4CC,OAAO,OAAnD,EAAnB,CAArB;AACAjB,iBAAQmB,UAAR,CAAmBb,QAAnB,CAA4BC,CAA5B,GAAgC,GAAhC;AACAP,iBAAQmB,UAAR,CAAmBb,QAAnB,CAA4BE,CAA5B,GAAgC,EAAhC;AACAR,iBAAQmB,UAAR,CAAmBD,MAAnB,CAA0BX,CAA1B,GAA8B,CAA9B;;AAEAa,gBAAOC,IAAP,CAAYrB,OAAZ,EAAqBsB,OAArB,CAA6B,UAAUC,GAAV,EAAe;AAC1C7D,sBAAWE,SAAS4D,EAApB,EAAwBf,QAAxB,CAAiCT,QAAQuB,GAAR,CAAjC;AACD,UAFD;;AAKA;AACArC,iBAAQuC,SAAR;;AAGA;AACA/B,oBAAWgC,IAAX,GAAkB,CAAlB;AACA7B,qBAAY6B,IAAZ,GAAmB,CAAnB;AACA5B,qBAAY4B,IAAZ,GAAmB,CAAnB;;AAGA;AACAzB,iBAAQ,IAAI0B,KAAJ,EAAR;AACA1B,eAAM2B,UAAN,CAAiBC,KAAjB,CAAuBvB,QAAvB,GAAkC,UAAlC;AACAL,eAAM2B,UAAN,CAAiBC,KAAjB,CAAuBC,GAAvB,GAA6B,KAA7B;AACA7B,eAAM2B,UAAN,CAAiBC,KAAjB,CAAuBE,IAAvB,GAA8B,OAA9B;AACA9B,eAAM2B,UAAN,CAAiBC,KAAjB,CAAuBG,MAAvB,GAAgC,EAAhC;AACA1D,kBAASC,IAAT,CAAcC,WAAd,CAA0ByB,MAAM2B,UAAhC;;AAGA;AACA;;;AAGA;AACAK;AACD;;AAGD,gBAASA,QAAT,GAAmB;AACjB;AACA,aAAI,CAACpE,KAAL,EAAY;AACVqE,iCAAsBD,QAAtB;;AAEA;AACA/C;;AAEA;AACAlB,qBAAUmE,MAAV,CAAiBpE,KAAjB;AACD;AACF;;AAGD,gBAAS0D,SAAT,GAAqB;AACnB;AACAW;;AAEA;AACAC;;AAEA;AACA;AACAC;;AAGA;AACAC;;AAEA;AACAtC,eAAMuC,MAAN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAnD;AACD;;AAED,gBAASkD,WAAT,GAAuB;AACrBvC,iBAAQa,QAAR,CAAiB4B,OAAjB,CAAyBtD,QAAQnC,MAAjC;AACAgD,iBAAQmB,UAAR,CAAmBsB,OAAnB,CAA2B,MAAMnD,QAAjC;AACD;;AAGD,gBAAS8C,aAAT,GAAyB;AACvB,aAAIM,aAAatD,SAAS,CAAT,CAAjB;AACA,aAAIuD,wBAAwBtD,WAAWqD,WAAW,CAAX,CAAvC;AACA,aAAIE,oBAAoBF,WAAW,CAAX,CAAxB;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,aAAIrD,WAAW,CAAX,KAAiB,CAArB,EAAwB;AACtB,gBAAK,IAAIpD,IAAI,CAAb,EAAgBA,IAAIqD,QAApB,EAA8BrD,GAA9B,EAAmC;AACjC4G,uBAAU,CAAV;AACD;AACF;AACD,aAAIxD,WAAW,CAAX,KAAiB,CAArB,EAAwB;AACtB,gBAAK,IAAIpD,MAAI,CAAb,EAAgBA,MAAIqD,QAApB,EAA8BrD,KAA9B,EAAmC;AACjC4G,uBAAU,CAAV;AACD;AACF;AACD;AACE,cAAK,IAAI5G,MAAI,CAAb,EAAgBA,MAAIqD,QAApB,EAA8BrD,KAA9B,EAAmC;AACjC4G,qBAAU,CAAV;AACD;AACH;AACD;;AAED,gBAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtB;AACA,aAAIC,MAAJ;;AAEA,aAAIC,KAAJ;AACA,iBAAQF,GAAR;AACE,gBAAK,CAAL;AACEE,qBAAQ,CAAC5G,QAAQrB,KAAKK,MAAL,KAAgB,EAAxB,IAA8B,EAA/B,IAAqC,IAA7C;AACA;AACF,gBAAK,CAAL;AACE4H,qBAAQ,CAAC5G,QAAQrB,KAAKK,MAAL,KAAgB,EAAxB,IAA8B,EAA/B,IAAqC,IAA7C;AACA;AACF;AACE4H,qBAAQ,CAAC5G,QAAQrB,KAAKK,MAAL,KAAgB,EAAxB,IAA8B,EAA/B,IAAqC,IAA7C;AARJ;;AAWA,aAAI6H,QAAQ7G,QAAQrB,KAAKK,MAAL,KAAgB,CAAxB,CAAZ;AACA,iBAAQ6H,KAAR;AACE,gBAAK,CAAL;AACEF,sBAAS,IAAIxF,MAAJ,CAAWyB,YAAX,CAAT;AACA;AACH,gBAAK,CAAL;AACG+D,sBAAS,IAAIxF,MAAJ,CAAW0B,YAAX,CAAT;AACA;AACF;AACE8D,sBAAS,IAAIxF,MAAJ,CAAWwB,YAAX,CAAT;AARJ;;AAWAgE,gBAAOG,KAAP,GAAe,CAAf;AACAH,gBAAOI,KAAP,GAAe,KAAKH,KAApB;AACAD,gBAAOK,MAAP,GAAgB,KAAKJ,KAArB;AACAD,gBAAOM,KAAP,GAAeL,KAAf;AACA;AACAD,gBAAOO,IAAP,GAAclH,QAAQrB,KAAKK,MAAL,MAAiBoC,cAAc,GAA/B,IAAsC,GAA9C,CAAd;AACAuF,gBAAOQ,IAAP,GAAc,CAAC,EAAf;AACAR,gBAAOxC,CAAP,GAAWwC,OAAOO,IAAlB;AACAP,gBAAOvC,CAAP,GAAWuC,OAAOQ,IAAlB;AACAR,gBAAO7B,MAAP,CAAcX,CAAd,GAAkB,GAAlB;AACAwC,gBAAO7B,MAAP,CAAcV,CAAd,GAAkB,GAAlB;AACAuC,gBAAOS,KAAP,GAAeT,OAAOO,IAAtB,CAvCsB,CAuCK;AAC3BP,gBAAOU,KAAP,GAAeV,OAAOQ,IAAtB,CAxCsB,CAwCK;AAC3BR,gBAAOW,MAAP,GAAgB,EAAhB,CAzCsB,CAyCH;AACnBX,gBAAOY,MAAP,GAAgB,EAAhB,CA1CsB,CA0CH;AACnBZ,gBAAOa,QAAP,GAAkBxH,QAAQrB,KAAKK,MAAL,KAAgB,EAAxB,IAA8B,EAAhD;AACA;AACA2H,gBAAOc,IAAP,GAAc,CAAC,CAAD,EAAI,CAAJ,CAAd,CA7CsB,CA6CD;AACrBd,gBAAOe,GAAP,GAAa,IAAId,KAAjB,CA9CsB,CA8CC;AACvBD,gBAAOD,GAAP,GAAaA,GAAb;AACA;AACA;AACAC,gBAAOgB,KAAP,GAAe,KAAf;AACAhB,gBAAOiB,SAAP,GAAmB9G,KAAK+G,WAAL,CAAiBC,GAApC;AACAxG,oBAAWE,SAASmF,MAAT,CAAgBA,OAAOG,KAAvB,CAAX,EAA0CzC,QAA1C,CAAmDsC,MAAnD;AACA5D,iBAAQA,QAAQnC,MAAhB,IAA0B+F,MAA1B;AACD;;AAED,gBAASV,WAAT,GAAuB;AACrB,cAAK,IAAIpG,IAAI,CAAR,EAAWkI,IAAIhF,QAAQnC,MAA5B,EAAoCf,IAAIkI,CAAxC,EAA2ClI,GAA3C,EAAgD;AAC9C,eAAI8G,SAAS5D,QAAQlD,CAAR,CAAb;AACA;AACA8G,kBAAOS,KAAP,GAAeT,OAAOxC,CAAtB;AACAwC,kBAAOU,KAAP,GAAeV,OAAOvC,CAAtB;;AAEA;AACA;AACAuC,kBAAOvC,CAAP,GAAWuC,OAAOU,KAAP,GAAeV,OAAOe,GAAjC;;AAEA,eAAIf,OAAOxC,CAAP,GAAW,CAACwC,OAAOW,MAAnB,IAA6BX,OAAOxC,CAAP,GAAW/C,cAAcuF,OAAOW,MAA7D,IAAuEX,OAAOvC,CAAP,GAAW,CAACuC,OAAOY,MAA1F,IAAoGZ,OAAOvC,CAAP,GAAW/C,eAAesF,OAAOY,MAAzI,EAAiJ;AAC/IZ,oBAAOgB,KAAP,GAAe,IAAf;AACArG,wBAAWE,SAASmF,MAAT,CAAgBA,OAAOG,KAAvB,CAAX,EAA0CkB,WAA1C,CAAsDrB,MAAtD;AACD;AACF;AACF;;AAED,gBAASsB,aAAT,GAAyB;AACvB,cAAK,IAAIpI,IAAIkD,QAAQnC,MAAR,GAAiB,CAAzB,EAA4BmH,IAAI,CAArC,EAAwClI,KAAKkI,CAA7C,EAAgDlI,GAAhD,EAAqD;AACnD,eAAIkD,QAAQlD,CAAR,EAAW8H,KAAX,KAAqB,IAAzB,EAA+B;AAC7BrG,wBAAWE,SAASmF,MAAT,CAAgB5D,QAAQlD,CAAR,EAAWiH,KAA3B,CAAX,EAA8CkB,WAA9C,CAA0DjF,QAAQlD,CAAR,CAA1D;AACAkD,qBAAQmF,MAAR,CAAerI,CAAf,EAAkB,CAAlB;AACD;AACF;AACF;;AAED,gBAASqG,aAAT,GAAyB;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAIvF,MAAMoC,QAAQnC,MAAlB;;AAEA,aAAIuH,aAAa,IAAIC,KAAJ,CAAUzH,GAAV,CAAjB;AACA,aAAI0H,MAAM,CAAV;AACA,cAAK,IAAIxI,IAAI,CAAb,EAAgBA,IAAIc,GAApB,EAAyBd,GAAzB,EAA8B;AAC5B,eAAIkD,QAAQlD,CAAR,EAAW8H,KAAX,KAAqB,IAAzB,EAA+B;AAC7BQ,wBAAWE,GAAX,IAAkBtF,QAAQlD,CAAR,CAAlB;AACAwI;AACD;AACF;;AAED,aAAI1H,MAAM0H,GAAV,EAAeF,WAAWD,MAAX,CAAkBG,GAAlB;AACftF,mBAAUoF,UAAV;AACD;AACF;;;;;;mBA/ZkB3J,I","file":"cmn.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 60e0d5d2b419dcd1724d","window.pixi_test = {\n  isDebug: true\n  // isDebug: false\n};\n\n\nimport Main from './_modules/_pixionly';\n\n$(function() {\n  \"use strict\";\n  var main = new Main();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/cmn.js","/**\n * pixi.jsだけに割り切ってやったやつ\n */\n\n/**\n * Main\n * 文字通り\n */\nexport default class Main {\n  /**\n   * Main 初期化\n   */\n  constructor() {\n    this.main();\n  }\n\n  /**\n   * Main メイン\n   */\n  main(e) {\n    \"use strict\";\n    //Math\n    var myRound = Math.round,\n        myCeil = Math.ceil,\n        myRandom = Math.random,\n        mySin = Math.sin,\n        myCos = Math.cos,\n        mySqrt = Math.sqrt,\n        myPI = Math.PI;\n    var myPow = function(a, b) {\n      var c = a;\n      for (var i = 1; i < b; i++) {\n        c *= a;\n      }\n      return c;\n    };\n    var myPow2 = function(a) {\n      return a * a;\n    };\n    var myAbs = function(a) {\n      return a < 0 ? -a : a;\n    };\n    var myFloor = function(a) {\n      return a | 0;\n    };\n    var myHypot = function(a, b) {\n      return mySqrt(a * a + b * b);\n    };\n    var myTrace = function(ary) {\n      if (window.pixi_test.isDebug) {\n        console.log(ary);\n      }\n    };\n    var toRadian = function(a) {\n      return a * myPI / 180;\n    };\n    var getDecimalLength = function(num) {\n      var splittedNum = (num + '').split('.'),\n          len = 0;\n      if (splittedNum[1]) {\n        len = splittedNum[1].length;\n      }\n      return len;\n    };\n\n    //Aliases\n    var Container = PIXI.Container,\n        autoDetectRenderer = PIXI.autoDetectRenderer,\n        CanvasRenderer = PIXI.CanvasRenderer,\n        loader = PIXI.loader,\n        resources = PIXI.loader.resources,\n        Sprite = PIXI.Sprite;\n\n    const STAGE_WIDTH = 640;\n    const STAGE_HEIGHT = 640;\n\n    var containers = [];\n    const MAX_CONTAINERS = 5;\n    var layerIDs = {\n      'bullet': [1, 0, 0],\n      'bg': [0, 0, 0],\n      'player': 2,\n      'spatk': 3,\n      'ui': 4\n    };\n    var isEnd = false;\n    var isKeyboard = false;\n\n    //Create a Pixi stage and renderer and add the\n    //renderer.view to the DOM\n    myTrace('stage append');\n    var stage = new Container(),\n        rendererP;\n    if (confirm('WebGLを使えたら使いましょうか')) {\n      rendererP = new autoDetectRenderer(STAGE_WIDTH, STAGE_HEIGHT, { antialias: true, transparent: false, backgroundColor: 0x001e43, resolution: 1});\n    } else {\n      rendererP = new CanvasRenderer(STAGE_WIDTH, STAGE_HEIGHT, { antialias: true, transparent: false, backgroundColor: 0x001e43, resolution: 1});\n    }\n    document.body.appendChild(rendererP.view).setAttribute('class', 'c-main');\n    stage.interactive = !isKeyboard;\n\n    var snow0b64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAnxQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA////J3MY0QAAANN0Uk5Tf8q6q9a706WThKkmFFJKRdG0xShDl76QeRqjv0kzZzhT9OLcMeStQsK2WbXOoMAkgZUndnxVhTxbc15fQOpG4KosPqTh6Ry8r5SbfgwyTxY3h9vMJStu32va8cFt+KJl1e4w3Yl9pmSzjsSyNJ2AmuU2QXc5bIYYvU2NPcjGjNeYR06oE+guOlbZuVBU68vm3thaIe3H+UxxmSJvFQ1yLz/J8xkdHyAe4w8jjxBLGy3y0qyugzUp92nvBQoO7PVgFwYJ9gsSCPwRB/v6A/0EAv4BAD6Ui6EAAAWlSURBVFjDtZf1W1p9FMBZd3dvrlz3XNjd3d3d3V0wxalDxUAkJKRFQGkEQRCc2z/0XouxS7w+z33f8wM/cT7P99zzvfd8DuwXODZ+ra8Z5CvCQBFFo+oEQqWhiAKFK3LD2vqG2b9/wczyt9KVIs1JGZ5BIBGJJAIDLzupESktI2Dm+UtAuiqEQaSe4EUxu7uZUbwTVCIjRAUglswJMHC+Qa6YUsm8xy8wg0J7GrCOjtiGntAg5oVxb5lqSiE3gAkwcP6qkDLJGOc9uIM9czr4VF9vb9+p4NNnsHce8MYZkxThKpgAA+craTLS2/TKx/S7Q9IUQWxiYqwgRTp0l/64Mv0tSUZTggkwcL6mZjiqrHy0VyoYq8h6zf34kfs6q2JMIO0dLS+LGq7RgAkwcD6e2t3T1ietqijOnHuD9i8q8ke/mcssrqiS9rX1dFPxYIIpYE0upNVQpxvoQ4J33LzWF9kc34Lc3AJfTvaL1jzuO8EQvWGaWkMTytcsAjbWlxQU2fh0Q/uXiYBmtMf8M5+X+U0oVFP+S59n8x7o5oCJL+0N0+MyimLJ5Ah/AEABU5NEN4c6KYZ7NHkekdD4nJ3aMjjYksp+3piAmE8+ysVI6xzciJNTQBHmAOAAQg2DV0n/+rm6teNJApI9mOFJLh0YKCV7ZgyykQlPOlqrP3+lV/IYGqHJEf4ADCsi2atC509j1SUH9qPYcS6lXuK0RSDSxF6lLnFs1P4DJdVjn5wLX8lEKwYzwOYBVCQm9kMVt5VTizwYM9C/yMJJloGQ4FiL/QMxB5G1nFZu1Qcsk6QyOYIRsLY6JYsMHc1573fcJwJu57WIW+aP6LZihL+MW/Syg0f4HPd7nzMaGimbWl0DA9YNCg2BWf4U0+yBQMIfiuMlSTqtWq3W64EfrS5JEi9+CEciPJoxT8uZBI3C+BhhuxXIlZPUhdGU4pKCphaymMUf0ar1P3dCr9aO8FlicktTQUlxyugCdVIp360BZqxAhOe592LqO26wXfpZfN1W+u+t2ELo+Kx+F/aNjnpMrzsPLzLWADP2QEOYdpZmoXNnwrvit/N/G2ObEN8VPpOLzpI6TxM0xj4YAcLO4YU6Qdj1WrZdmkSnNk3fRqh1kjQ7du31MEHdwnCnEARYX1KGRPb0jV3hnId3sZK0elA+QNBrk1hd8POcK2N9PZEhyqX1vwHywBoedujqpXMRMWKJzjx/k6CTiGMizl26OoTl1QTK/wIATRBdc7soDShCnCUv8rWWAVr+IvksoihAetHtmmi3DbDdJlAY3W053OTLqQOsEbWFfICgHmENpF5O5ua0dTMou20wAmiE9Ju3w7ITBrtwFivYqgHXNZiQHXb7ZjqBBgas0EhBdEFmR36c0z2d/rfF0OvuOcXld2QK6EEk2goYoCHeqottdm0K75dorQG0kv7wJtfm2LpbRA0IANyj2cL2xHoO6r5Yov1pGfBTKxHfR3HqE9sLZ403aRegUM0uBEfnPWrMEC9bByyLMxof5UUHL8yqFBYA36Ln5me+/7AF+PF9Zn4u+ps1wMTeABOWAcNleweUDf8fAMgl/AcPEVIboV4kyFcZ+ssE+XWG+kGB+kmD/FGF/lk3HSxk64OFbHWwmIy2fbZG2z6ro810uHpaG66eNoarcbz7F6CA8Y4zH+84YLyjCvytjHfIgmGqOK61EXCyE1hxnMjwiFpX64qzI1mOgGShAclqMZesFkCy0IBkOVqWrF3Na9vUPM6hRnPNazzE2dS8Niuaty2a3kbRtEceNhXNw0j7J8d3RNPbsmjuqC7ToV2KOeaX7IuwN1Vde4Rvst8xjLTdgWlNdY2y7b4p2/UlR/6W7SMl9TBAtt1tyPa27uP/TffxVnUf+sKxl5UHb2vlgb507WHtU9pe+6AvntBXX+jLN0DYsLH+m+///wC8Edu8RXAg+QAAAABJRU5ErkJggg==',\n        snow1b64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAvpQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA////5ZLKSQAAAP10Uk5Ttk6PzTmwYI64m21LkbTdo5CXzG6urVSLeHB1PKzHu5nnlHqYfHdde31Sck9AXsni18im5LPAP7+EOINhnqWdnGJWa2xT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',\n        snow2b64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAvpQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA////5ZLKSQAAAP10Uk5TbpuyodelmkLAXrWLbI1fcMSXy0RmNtVH0ZSHuGvjtpKciafghqBoRc6Wdjt0eHxWQXNUU4RRyVexvYivwTORrUl1pINP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';\n\n    var textureSnow0,\n        textureSnow1,\n        textureSnow2;\n\n    var state;\n    var bullets = [];\n    var patterns = [];\n\n    var frameCnt = 0;\n\n    var clickCnt = 1;\n\n    var remainingTime = 0,\n        overallRemainingTime = 0,\n        overallEndFrame;\n\n    var blurFilter = new PIXI.filters.BlurFilter(),\n        blurFilter2 = new PIXI.filters.BlurFilter(),\n        bloomFilter = new PIXI.filters.BloomFilter();\n\n    var textObj = {};\n    var stats;\n\n    $('.c-main').on('click', function () {\n      if (clickCnt === 5 && !confirm('非力な端末ではもう処理落ちしてしまうと思われますが、増やしますか？')) {\n        return false;\n      } else if (clickCnt === 20 && !confirm('そろそろ過負荷なのではと思われますが、本当に増やしますか？ ブラウザが不安定になるかもしれません')) {\n        return false;\n      } else if (clickCnt < 50) {\n       clickCnt++;\n      }\n    });\n\n\n    function loadObjects() {\n      // function pixiLoaderCallBack() {\n        setup();\n      // }\n\n      // loader\n      //   .add('./images/snow0.png')\n      //   .add('./images/snow1.png')\n      //   .add('./images/snow2.png')\n      //   .load(pixiLoaderCallBack);\n    }\n\n    loadObjects();\n\n\n\n    function setup() {\n      myTrace('setup');\n\n      for (let i = 0; i < MAX_CONTAINERS; i++) {\n        containers[i] = new PIXI.DisplayObjectContainer();\n        containers[i].position.x = 0;\n        containers[i].position.y = 0;\n        stage.addChild(containers[i]);\n      }\n\n\n      // 雪のテクスチャだけここで\n      textureSnow0 = PIXI.Texture.fromImage(snow0b64);\n      textureSnow1 = PIXI.Texture.fromImage(snow1b64);\n      textureSnow2 = PIXI.Texture.fromImage(snow2b64);\n\n\n      // 開始フレーム, 長さ, パターン番号\n      patterns[0] = [0, 1200, 0];\n      patterns[1] = [1200, 300, 0.9];\n      for (let i = 1; i < 4; i++) {\n        patterns.push([patterns[patterns.length - 1][0] + 60, 1200, i]);\n        patterns.push([patterns[patterns.length - 1][0] + 1200, 60, i + 0.9]);\n      }\n      for (let i = 4; i < 6; i++) {\n        patterns.push([patterns[patterns.length - 1][0] + 60, 1800, i]);\n        patterns.push([patterns[patterns.length - 1][0] + 1800, 60, i + 0.9]);\n      }\n      patterns.push([patterns[patterns.length - 1][0] + 60, 3600, 6]);\n      patterns.push([patterns[patterns.length - 1][0] + 3600, 60, 6 + 0.9]);\n\n      overallEndFrame = patterns[patterns.length - 1][0];\n\n      // Add UI\n      textObj.scoreNum = new PIXI.Text('0', {font:'bold 20px Arial', fill:'#ffffff', align:'right'});\n      textObj.scoreNum.position.x = 144;\n      textObj.scoreNum.position.y = 10;\n      textObj.scoreNum.anchor.x = 1;\n\n      textObj.scoreRatio = new PIXI.Text('0', { font: 'bold 20px Arial', fill: '#ffffff', align: 'right' });\n      textObj.scoreRatio.position.x = 144;\n      textObj.scoreRatio.position.y = 36;\n      textObj.scoreRatio.anchor.x = 1;\n\n      Object.keys(textObj).forEach(function (key) {\n        containers[layerIDs.ui].addChild(textObj[key]);\n      });\n\n\n      //Set the game state\n      state = playState;\n\n\n      // filters\n      blurFilter.blur = 1;\n      blurFilter2.blur = 2;\n      bloomFilter.blur = 2;\n\n\n      // add stats\n      stats = new Stats();\n      stats.domElement.style.position = 'absolute';\n      stats.domElement.style.top = '0px';\n      stats.domElement.style.left = '640px';\n      stats.domElement.style.zIndex = 10;\n      document.body.appendChild(stats.domElement);\n\n\n      // call background animation\n      // callBG();\n\n\n      //Start the game loop\n      gameLoop();\n    }\n\n\n    function gameLoop(){\n      // myTrace('loop');\n      if (!isEnd) {\n        requestAnimationFrame(gameLoop);\n\n        //Update the current game state\n        state();\n\n        //Render the stage\n        rendererP.render(stage);\n      }\n    }\n\n\n    function playState() {\n      //bulletの生成\n      callAddBullet();\n\n      //bulletの移動\n      moveBullets();\n\n      //はみ出たbulletをまとめて消去\n      // removeBullets();\n      filterBullets();\n\n\n      // テキスト更新\n      refreshText();\n\n      // fps表示更新\n      stats.update();\n      // if (stats.getFps() < 10) {\n      //   busyCnt++;\n      //   if (busyCnt > 60) {\n      //     isEnd = true;\n      //     alert('フレームレートがひどく落ち込んでいるので停止します');\n      //   }\n      // } else {\n      //   busyCnt = 0;\n      // }\n\n      // 現フレーム数をインクリメント\n      frameCnt++;\n    }\n\n    function refreshText() {\n      textObj.scoreNum.setText(bullets.length);\n      textObj.scoreRatio.setText('x' + clickCnt);\n    }\n\n\n    function callAddBullet() {\n      var currentPtn = patterns[0];\n      var currentOffsettedFrame = frameCnt - currentPtn[0];\n      var offsettedEndFrame = currentPtn[1];\n\n      // if (getDecimalLength(currentPtn[2]) === 0) {\n      //   remainingTime = myCeil((offsettedEndFrame - currentOffsettedFrame) / 60);\n      // } else {\n      //   remainingTime = '';\n      // }\n      // overallRemainingTime = myCeil((overallEndFrame - frameCnt) / 60);\n\n\n      if (frameCnt % 6 === 0) {\n        for (let i = 0; i < clickCnt; i++) {\n          addBullet(0);\n        }\n      }\n      if (frameCnt % 3 === 0) {\n        for (let i = 0; i < clickCnt; i++) {\n          addBullet(1);\n        }\n      }\n      // if (frameCnt % 1 === 0) {\n        for (let i = 0; i < clickCnt; i++) {\n          addBullet(2);\n        }\n      // }\n    }\n\n    function addBullet(ptn) {\n      // myTrace('addBullet');\n      var bullet;\n\n      var ratio;\n      switch (ptn) {\n        case 1:\n          ratio = (myFloor(Math.random() * 21) + 45) * 0.01;\n          break;\n        case 2:\n          ratio = (myFloor(Math.random() * 21) + 20) * 0.01;\n          break;\n        default:\n          ratio = (myFloor(Math.random() * 21) + 70) * 0.01;\n      }\n\n      var imgID = myFloor(Math.random() * 3);\n      switch (imgID) {\n        case 1:\n          bullet = new Sprite(textureSnow1);\n          break;\n       case 2:\n          bullet = new Sprite(textureSnow2);\n          break;\n        default:\n          bullet = new Sprite(textureSnow0);\n      }\n\n      bullet.layer = 0;\n      bullet.width = 16 * ratio;\n      bullet.height = 16 * ratio;\n      bullet.alpha = ratio;\n      // bullet.hitRadius = 4;\n      bullet.defX = myFloor(Math.random() * (STAGE_WIDTH + 230) - 115);\n      bullet.defY = -64;\n      bullet.x = bullet.defX;\n      bullet.y = bullet.defY;\n      bullet.anchor.x = 0.5;\n      bullet.anchor.y = 0.5;\n      bullet.lastX = bullet.defX;// 前フレームの座標\n      bullet.lastY = bullet.defY;// 同上\n      bullet.eraseX = 64;//この数値だけステージからはみ出たら消える\n      bullet.eraseY = 64;//同上\n      bullet.rotation = myFloor(Math.random() * 31) - 60;\n      // bullet.vec = [[0, 1], [0, 0]];// かかっているベクトルを二次元配列で\n      bullet.nVec = [0, 1];// 上のを正規化後\n      bullet.spd = 4 * ratio;// 移動速度 ベクトルの大きさ\n      bullet.ptn = ptn;\n      // bullet.createdFrame = frameCnt;\n      // bullet.offsettedFrame = offsettedFrame;\n      bullet.erase = false;\n      bullet.blendMode = PIXI.BLEND_MODES.ADD;\n      containers[layerIDs.bullet[bullet.layer]].addChild(bullet);\n      bullets[bullets.length] = bullet;\n    }\n\n    function moveBullets() {\n      for (var i = 0, j = bullets.length; i < j; i++) {\n        var bullet = bullets[i];\n        // この時点での座標を格納\n        bullet.lastX = bullet.x;\n        bullet.lastY = bullet.y;\n\n        // bullet.x = bullet.lastX + bullet.nVec[0] * bullet.spd;\n        // bullet.y = bullet.lastY + bullet.nVec[1] * bullet.spd;\n        bullet.y = bullet.lastY + bullet.spd;\n\n        if (bullet.x < -bullet.eraseX || bullet.x > STAGE_WIDTH + bullet.eraseX || bullet.y < -bullet.eraseY || bullet.y > STAGE_HEIGHT + bullet.eraseY) {\n          bullet.erase = true;\n          containers[layerIDs.bullet[bullet.layer]].removeChild(bullet);\n        }\n      }\n    }\n\n    function removeBullets() {\n      for (var i = bullets.length - 1, j = 0; i >= j; i--) {\n        if (bullets[i].erase === true) {\n          containers[layerIDs.bullet[bullets[i].layer]].removeChild(bullets[i]);\n          bullets.splice(i, 1);\n        }\n      }\n    }\n\n    function filterBullets() {\n      // bullets = bullets.filter(function(val) {\n      //   return val.erase === false;\n      // });\n\n      // var tmpBullets = [];\n      // for (var i = 0, j = bullets.length; i < j; i++) {\n      //   if (bullets[i].erase !== true) {\n      //     tmpBullets.push(bullets[i]);\n      //   }\n      // }\n      // bullets = tmpBullets;\n\n      var len = bullets.length;\n\n      var tmpBullets = new Array(len);\n      var idx = 0;\n      for (var i = 0; i < len; i++) {\n        if (bullets[i].erase !== true) {\n          tmpBullets[idx] = bullets[i];\n          idx++;\n        }\n      }\n\n      if (len > idx) tmpBullets.splice(idx);\n      bullets = tmpBullets;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/_modules/_pixionly.js"],"sourceRoot":""}